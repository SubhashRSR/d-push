'use strict';const a0_0x2ceaec=a0_0x4270;(function(_0x40c243,_0x28694b){const _0x4823d3=a0_0x4270;const _0x1f41a1=_0x40c243();while(!![]){try{const _0x2035bb=-parseInt(_0x4823d3(0x181))/(-0x51a*-0x2+-0x5*-0x3df+-0x1d8e)+parseInt(_0x4823d3(0x1c4))/(-0x1a74+0x1c2f+0x1b9*-0x1)+-parseInt(_0x4823d3(0x18e))/(-0x19*-0xca+0x313*0x1+0x2*-0xb65)+parseInt(_0x4823d3(0x1c9))/(0x4c3+-0x5*0x77e+0x20b7)*(parseInt(_0x4823d3(0x1f0))/(-0x1b1b+-0x1128+-0x2c48*-0x1))+-parseInt(_0x4823d3(0x1a4))/(0x5*-0x1fd+-0x4*0x8fb+0x2de3)*(parseInt(_0x4823d3(0x199))/(0x97c*-0x1+0x1*-0x1915+0x2298))+-parseInt(_0x4823d3(0x196))/(-0x19b4+0x265b+-0xc9f)*(parseInt(_0x4823d3(0x1f2))/(-0x4b*0x5d+0x6*-0x526+0x3a2c))+parseInt(_0x4823d3(0x1bd))/(0x683*-0x5+0x20c*-0x8+0x30f9);if(_0x2035bb===_0x28694b){break;}else{_0x1f41a1['push'](_0x1f41a1['shift']());}}catch(_0x149d3d){_0x1f41a1['push'](_0x1f41a1['shift']());}}}(a0_0x3347,-0x1c76*-0x65+-0x1*-0x67fe5+-0x1*0xa6666));function a0_0x4270(_0x427c30,_0x56cad5){const _0x155866=a0_0x3347();a0_0x4270=function(_0x3a07bc,_0xe57537){_0x3a07bc=_0x3a07bc-(0x1*-0xab5+-0x265b*-0x1+0x3be*-0x7);let _0x45fedb=_0x155866[_0x3a07bc];return _0x45fedb;};return a0_0x4270(_0x427c30,_0x56cad5);}var __importDefault=this&&this[a0_0x2ceaec(0x1cc)+a0_0x2ceaec(0x1d9)]||function(_0x36be40){const _0x23146b=a0_0x2ceaec;return _0x36be40&&_0x36be40[_0x23146b(0x18a)]?_0x36be40:{'default':_0x36be40};};Object[a0_0x2ceaec(0x1aa)+a0_0x2ceaec(0x1be)](exports,a0_0x2ceaec(0x18a),{'value':!![]});const dotenv_1=__importDefault(require(a0_0x2ceaec(0x183)));const helpers_1=require(a0_0x2ceaec(0x17a));dotenv_1[a0_0x2ceaec(0x1a9)][a0_0x2ceaec(0x1ee)]({'path':__dirname+a0_0x2ceaec(0x18f)});const sql_utils_1=__importDefault(require(a0_0x2ceaec(0x1a1)+a0_0x2ceaec(0x184)));const bullmq_1=require(a0_0x2ceaec(0x1cd));const httpV1Alt_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1d1)+a0_0x2ceaec(0x1db));const httpV1AltLagacy_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1d1)+a0_0x2ceaec(0x17f)+'cy');const httpV1_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1d1)+a0_0x2ceaec(0x1e1));const vapid_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x182)+'id');const lagacy_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1b3)+a0_0x2ceaec(0x1e3));function a0_0x3347(){const _0x5d6b0e=['11191770OMgENu','erty','on\x20Job','rMBUO','gment','icsSegment','tpV1','443580mJiCGd','Error\x20in\x20S','ethods/top','sendPushHt','vapid_nati','4pcmpwM','job\x20type','at\x20','__importDe','bullmq','sendPushLa','http_legac','s/sendingM','ethods/htt','A\x20New\x20Queu','vNNNs','IARVy','GzHzv','sh\x20to\x20Lega','./function','data','fault','ion','pV1Alt','s\x20Spawned\x20','XsZFF','EMkfi','http_v1','httpV1AltL','pV1','6379','acy','Luljd','\x20of\x20type\x20','endPush','Sending\x20Pu','catch','toISOStrin','bPOXU','http_v1_al','Worker\x20Err','\x20V1','config','pid','4310170hvaUiW','CBqfR','173295yYjZli','YwcUg','\x20completed','agacy','pics','Unhandled\x20','sh\x20to\x20Vapi','REDIS_PORT','./helpers','REDIS_HOST','Worker','aBVLI','Notificati','pV1AltLaga','e\x20Worker\x20i','423021JqkyeY','ethods/vap','dotenv','l_utils','getConnect','fcm_method','log','error','gacy','__esModule','iyXaD','Qrien','\x20V1\x20Lagacy','2441910BvdMgj','/../.env','s_segment','\x20Topics\x20Se','sendPushTo','\x20job\x20','sendPushVa','sh\x20to\x20HTTP','176EBmfuX','ics','Processing','7CpvPeB','now','ioredis','\x20Topics','UusGr','yrlRf','tpV1Alt','TmxOS','./utils/sq','jRqJr','REDIS_PASS','372786yKrbbd','kSujw','notificati','krtKQ','WORD','default','defineProp','rGXGp','wePKU','mPMTs','http_v1_la','\x20V1\x20Alt','bBEfp','Job\x20','env','ethods/lag','picsSegmen','release','http_topic','\x20in\x20','name','[Worker]:\x20','kYUGq','itjja','SendPush'];a0_0x3347=function(){return _0x5d6b0e;};return a0_0x3347();}const topics_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1c6)+a0_0x2ceaec(0x197));const topicsSegment_1=require(a0_0x2ceaec(0x1d7)+a0_0x2ceaec(0x1d0)+a0_0x2ceaec(0x1c6)+a0_0x2ceaec(0x1c2));const ioredis_1=__importDefault(require(a0_0x2ceaec(0x19b)));const redis_connection=new ioredis_1[(a0_0x2ceaec(0x1a9))]({'maxRetriesPerRequest':null,'host':process[a0_0x2ceaec(0x1b2)][a0_0x2ceaec(0x17b)],'port':parseInt(process[a0_0x2ceaec(0x1b2)][a0_0x2ceaec(0x179)]||a0_0x2ceaec(0x1e2)),'password':process[a0_0x2ceaec(0x1b2)][a0_0x2ceaec(0x1a3)+a0_0x2ceaec(0x1a8)]});const sendPushWorker=new bullmq_1[(a0_0x2ceaec(0x17c))](a0_0x2ceaec(0x1bc),async _0x5b59c3=>{const _0x26ed91=a0_0x2ceaec;const _0x40b16e={'Qrien':_0x26ed91(0x1b9)+_0x26ed91(0x1c5)+_0x26ed91(0x1e6),'Luljd':_0x26ed91(0x1a6)+'on','IARVy':_0x26ed91(0x17e)+_0x26ed91(0x1bf),'iyXaD':function(_0x408eca,_0x4e1207){return _0x408eca==_0x4e1207;},'aBVLI':_0x26ed91(0x1cf)+'y','mPMTs':_0x26ed91(0x1e7)+_0x26ed91(0x1d6)+'cy','wePKU':_0x26ed91(0x1df),'CBqfR':_0x26ed91(0x1e7)+_0x26ed91(0x195)+_0x26ed91(0x1ed),'XsZFF':function(_0xcf6685,_0x2bb371){return _0xcf6685==_0x2bb371;},'kSujw':_0x26ed91(0x1eb)+'t','itjja':_0x26ed91(0x1e7)+_0x26ed91(0x195)+_0x26ed91(0x1af),'bPOXU':function(_0x28fabc,_0x562d61){return _0x28fabc==_0x562d61;},'UusGr':_0x26ed91(0x1ae)+_0x26ed91(0x189),'bBEfp':_0x26ed91(0x1e7)+_0x26ed91(0x195)+_0x26ed91(0x18d),'rMBUO':_0x26ed91(0x1b6)+'s','kYUGq':_0x26ed91(0x1e7)+_0x26ed91(0x195)+_0x26ed91(0x19c),'YwcUg':function(_0x35fc07,_0x3c565e){return _0x35fc07==_0x3c565e;},'yrlRf':_0x26ed91(0x1b6)+_0x26ed91(0x190),'TmxOS':_0x26ed91(0x1e7)+_0x26ed91(0x195)+_0x26ed91(0x191)+_0x26ed91(0x1c1),'rGXGp':function(_0xd81174,_0x31143e){return _0xd81174==_0x31143e;},'krtKQ':_0x26ed91(0x1c8)+'ve','GzHzv':_0x26ed91(0x1e7)+_0x26ed91(0x178)+'d','jRqJr':_0x26ed91(0x1b9)+_0x26ed91(0x177)+_0x26ed91(0x1ca),'vNNNs':function(_0x206f52,_0x49af32){return _0x206f52-_0x49af32;},'EMkfi':_0x26ed91(0x1ec)+'or'};let _0x57d21f;try{const _0x56fdcf=Date[_0x26ed91(0x19a)]();_0x57d21f=await sql_utils_1[_0x26ed91(0x1a9)][_0x26ed91(0x185)+_0x26ed91(0x1da)]();(0x5*-0x617+0x227e+-0x45*0xf,helpers_1[_0x26ed91(0x187)])(_0x26ed91(0x198)+_0x26ed91(0x193)+_0x5b59c3['id']+_0x26ed91(0x1e5)+_0x5b59c3[_0x26ed91(0x1b8)]);switch(_0x5b59c3[_0x26ed91(0x1b8)]){case _0x40b16e[_0x26ed91(0x1e4)]:(-0x206a+-0xbf6*0x2+0x3856,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1d4)],_0x5b59c3[_0x26ed91(0x1d8)]);if(_0x40b16e[_0x26ed91(0x18b)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x17d)])){(-0x6*0x3af+0x1c29+-0x60f,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1ad)]);await(0x1*0x1a4d+-0x91*-0x22+-0x2d8f*0x1,lagacy_1[_0x26ed91(0x1ce)+_0x26ed91(0x189)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x55ced0=>{const _0x5e99f5=_0x26ed91;(0x23e2+0x2cf*-0x7+-0x1039,helpers_1[_0x5e99f5(0x187)])(_0x40b16e[_0x5e99f5(0x18c)],_0x55ced0);});}if(_0x40b16e[_0x26ed91(0x18b)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x1ac)])){(-0x1676+0x5*-0x3fd+0x2a67,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1f1)]);await(0x3a2+0x1cd5+-0x2077,httpV1_1[_0x26ed91(0x1c7)+_0x26ed91(0x1c3)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x1b2782=>{const _0x43c841=_0x26ed91;(0x23c5*0x1+0x1c05+-0x3fca,helpers_1[_0x43c841(0x187)])(_0x40b16e[_0x43c841(0x18c)],_0x1b2782);});}if(_0x40b16e[_0x26ed91(0x1dd)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x1a5)])){(-0x76c*0x2+0x1*0x285+-0x1*-0xc53,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1bb)]);await(-0x37*0x29+0xfed+-0x38f*0x2,httpV1Alt_1[_0x26ed91(0x1c7)+_0x26ed91(0x19f)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x476321=>{const _0x4ef055=_0x26ed91;(0x5f2+-0x3e9*0x1+0x209*-0x1,helpers_1[_0x4ef055(0x187)])(_0x40b16e[_0x4ef055(0x18c)],_0x476321);});}if(_0x40b16e[_0x26ed91(0x1ea)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x19d)])){(0x2094*0x1+0x2000+-0x4094*0x1,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1b0)]);await(-0x96a*0x1+0x1da7+-0x143d,httpV1AltLagacy_1[_0x26ed91(0x1e0)+_0x26ed91(0x175)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x432dc6=>{const _0xc55628=_0x26ed91;(0x854+0x224*-0xa+-0x36*-0x3e,helpers_1[_0xc55628(0x187)])(_0x40b16e[_0xc55628(0x18c)],_0x432dc6);});}if(_0x40b16e[_0x26ed91(0x1dd)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x1c0)])){(-0x93c+0x1*-0x229b+0x2bd7,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1ba)]);await(0x2*0xe87+0xb51*0x1+-0x285f,topics_1[_0x26ed91(0x192)+_0x26ed91(0x176)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x41c4ef=>{const _0x1f2ecc=_0x26ed91;(-0x1789*0x1+0x9b7*-0x3+0x34ae,helpers_1[_0x1f2ecc(0x187)])(_0x40b16e[_0x1f2ecc(0x18c)],_0x41c4ef);});}if(_0x40b16e[_0x26ed91(0x1f3)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x19e)])){(0x1ff*-0x8+0x5*0x1f5+0x62f,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1a0)]);await(-0x940+0x5*0x4d5+0x1*-0xee9,topicsSegment_1[_0x26ed91(0x192)+_0x26ed91(0x1b4)+'t'])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x253a36=>{const _0x17f472=_0x26ed91;(-0x1398+0x27b*-0x6+-0x227a*-0x1,helpers_1[_0x17f472(0x187)])(_0x40b16e[_0x17f472(0x18c)],_0x253a36);});}if(_0x40b16e[_0x26ed91(0x1ab)](_0x5b59c3[_0x26ed91(0x1d8)][_0x26ed91(0x186)],_0x40b16e[_0x26ed91(0x1a7)])){(-0xcf+0x143*0x5+-0x580,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1d5)]);await(0x239b+-0xc7+0x8b5*-0x4,vapid_1[_0x26ed91(0x194)+_0x26ed91(0x1ef)])(_0x5b59c3[_0x26ed91(0x1d8)],_0x57d21f,redis_connection)[_0x26ed91(0x1e8)](_0x304ccf=>{const _0x202893=_0x26ed91;(0x126f+-0xb*0x103+0x22*-0x37,helpers_1[_0x202893(0x187)])(_0x40b16e[_0x202893(0x18c)],_0x304ccf);});}break;default:(0x1*0x1df4+0xd05+-0xe53*0x3,helpers_1[_0x26ed91(0x187)])(_0x40b16e[_0x26ed91(0x1a2)],_0x5b59c3[_0x26ed91(0x1b8)]);}console[_0x26ed91(0x187)](_0x26ed91(0x1b1)+_0x5b59c3['id']+(_0x26ed91(0x174)+_0x26ed91(0x1b7))+_0x40b16e[_0x26ed91(0x1d3)](Date[_0x26ed91(0x19a)](),_0x56fdcf)+'ms');}catch(_0x28d660){console[_0x26ed91(0x188)](_0x40b16e[_0x26ed91(0x1de)],_0x28d660);}finally{if(_0x57d21f){_0x57d21f[_0x26ed91(0x1b5)]();}}},{'connection':redis_connection});console[a0_0x2ceaec(0x187)](a0_0x2ceaec(0x1d2)+a0_0x2ceaec(0x180)+a0_0x2ceaec(0x1dc)+a0_0x2ceaec(0x1cb)+new Date()[a0_0x2ceaec(0x1e9)+'g']());